接口状态码返回200说明成功，不是200说明出错

## 全局类型说明

### BaseResp

| 字段      | 类型     | 描述                         |
| ------- | ------ | -------------------------- |
| code    | int    | 记录状态码，code为0则成功，不存在或不为零则失败 |
| message | string | 如果出错，记录错误原因，否则留空           |

## 用户操作相关接口

### POST /user/register

**功能描述**: 用户注册接口

**调用路径**: `/user/register`

**传入参数**:

| 参数名       | 类型     | 是否可选 | 是否为空时忽略 | 解释   |     |
| --------- | ------ | ---- | ------- | ---- | --- |
| telephone | string | 否    | 否       | 电话号码 |     |
| password  | string | 否    | 否       | 密码   |     |

**返回参数**:

| 参数名 | 类型       | 是否为空时忽略 | 解释   |
| --- | -------- | ------- | ---- |
| _   | BaseResp | 否       | 基础响应 |

### POST /user/login

**功能描述**: 用户登录接口

**调用路径**: `/user/login`

**传入参数**:

| 参数名       | 类型     | 是否可选 | 是否为空时忽略 | 解释   |
| --------- | ------ | ---- | ------- | ---- |
| telephone | string | 否    | 否       | 电话号码 |
| password  | string | 否    | 否       | 密码   |

**返回参数**:

| 参数名   | 类型       | 是否为空时忽略 | 解释   |
| ----- | -------- | ------- | ---- |
| _     | BaseResp | 否       | 基础响应 |
| token | string   | 否       | 认证令牌 |

**错误码**:

| 错误码 | 错误信息 |
| --- | ---- |
| 1   | 密码错误 |

### POST /user/check

**功能描述**: 检查用户令牌是否还有效

**调用路径**: `/user/check`

**传入参数**:

| 参数名   | 类型     | 是否可选 | 是否为空时忽略 | 解释   |
| ----- | ------ | ---- | ------- | ---- |
| token | string | 否    | 否       | 认证令牌 |

**返回参数**:

| 参数名 | 类型       | 是否为空时忽略 | 解释   |
| --- | -------- | ------- | ---- |
| _   | BaseResp | 否       | 基础响应 |
| ok  | bool     | 否       | 是否有效 |

> [!Important]
> 下面的接口需要鉴权，即需要在Cookie或者Header中新增一个Token字段，存放Token

## 历史记录相关接口

### POST /record/add

**功能描述**: 添加一条记录

**调用路径**: `/record/add`

**传入参数**:

| 参数名      | 类型     | 是否可选 | 是否为空时忽略 | 解释  |
| -------- | ------ | ---- | ------- | --- |
| question | string | 否    | 否       | 问题  |

**返回参数**:

| 参数名 | 类型       | 是否为空时忽略 | 解释   |
| --- | -------- | ------- | ---- |
| _   | BaseResp | 否       | 基础响应 |

### GET /record/get

**功能描述**: 获取记录

**调用路径**: `/record/get`

**传入参数**: 无

**返回参数**:

| 参数名  | 类型       | 是否为空时忽略 | 解释   |
| ---- | -------- | ------- | ---- |
| _    | BaseResp | 否       | 基础响应 |
| data | []string | 否       | 问题列表 |

### POST /record/delete

**功能描述**: 删除记录，清空所有历史记录

**调用路径**: `/record/delete`

**传入参数**: 无

**返回参数**:

| 参数名 | 类型       | 是否为空时忽略 | 解释   |
| --- | -------- | ------- | ---- |
| _   | BaseResp | 否       | 基础响应 |

## ai调用

### GET[SSE] /ai/run

**功能描述**: 运行AI处理

**调用路径**: `/ai/run`

**传入参数**:

| 参数名      | 类型     | 是否可选 | 是否为空时忽略 | 解释  |
| -------- | ------ | ---- | ------- | --- |
| question | string | 否    | 否       | 问题  |

**返回参数**: 按照SSE格式，每次会收到一个json，data字段为每次接收到的部分字符



generated by [backend-generator](https://github.com/dingdinglz/backend-generator)